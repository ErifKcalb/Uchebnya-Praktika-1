# Футбольный трасферный рынок
## `Содержание`
[Введение](#введение)

1 [Описание предметной области](#по)

1.1 [Указание на проблематику](#проблематика) 

1.2 [Формулировка задачи](#формулировка_задачи)

2  [Существующие решения проблемы](#решения_проблемы)

3 [Разработка](#разработка)

3.1 [Проектирование системы](#проектирование_системы)

3.2 [Реализация системы](#реализация_системы)

4 [Тестирование](#тестирование)

[Заключение](#заключение)

[Список литературы](#список_литературы)

***
## Введение <a name ="введение"></a>
Темой проекта является "Футбольный трансферный рынок", позволяет дистанционно посмотреть информацию о футболистах и клубах, футболистам посмотреть менеджеров и их предложение, клуб посмотреть футболистов и заключить с ними контракт. Сегодня это особенно важно, ведь футболистам, менеджерам и клубам не придется лишний раз встречаться в условиях пандемии, так же это удобно. Это все позволяет обеспечить удобство на расстоянии, тем самым экономия время футболистов и клубов. На сегодняшний день данная информационная система является как никогда актульной в связи с эпидемией коронавируса и не имеющих прямых аналогов.
***
## 1 Описание предметной области <a name ="по"></a>
Футболист- это спортсмен, занимающийся футболом.[1]
Клуб — это спортивная организация, участвующая в соревнованиях по футболу. Кроме собственно спортсменов-футболистов, в состав клуба входят тренер и его помощники, менеджеры клуба, врачи и прочий обслуживающий персонал. Непосредственно основная команда состоит из двадцати и более игроков.[2]
Менеджер- это посредник между клубом и футболистом, которые рассматривает предложения для обеих сторон и заключает трансфер между ними.
Футбольные трансферы — сделки, проводимые в период, специально отведённый для покупки и продажи игроков (трансферное окно). При этом футболист подписывает личный контракт, в котором оговаривается срок, в течение которого он должен играть за данную команду, а также зарплата, премиальные, бонусы и обязанности сторон. Стоимость игрока часто зависит не от объективной оценки его игры, а от того, на какую цену договорятся между собой представители клубов. История футбола знает немало случаев, когда более сильный игрок покупался за более низкую цену, чем другой, чуть менее талантливый футболист. Кроме денег, часто за игрока отдают бонусы от своего футболиста, в услугах которых клуб не нуждается.[3]
***
  ### 1.1 Указание на проблематику <a name ="проблематика"></a>
  В связи занятностью футболистов и пандемической ситуацией, можно с помощью сайта рассматривать предложение, тем самым работать с трансферным рынком. Можно узнавать согласен ли футболист на условия, заинтересованны ли клубы в подписании конкретных игроков и рассмотреть предожение менеджера. Одна из основных проблем некоректная цена на футболистов, бывает игрок слишком завышен по трансферной стоимости необъективно, либо цена на футболиста изначально неверна. Представленная информационная система позволяет это всё удобно рассмотреть, чтобы не терять время не футболистам, не клубам.
  ### 1.2 Формулировка задачи <a name ="формулировка_задачи"></a>
  Целью проекта является создание сайта футбольного трансферна рынка, предоставляющий пользователям удобную и достоверную информацию о клубах и футболистах.
  
  Задачи:
  1. Предоставление простой и понятной информации футболисту, менеджеру и клубу.
  2. Возможность посмотреть дистанционно предложение менеджера клубам и футболистам.
  3. Футболисту дистианционно подписать контракт.
  4. Клубу дистиацианно подписать футболиста.
  5. Менеджеру дистиацианно работать с клубами и футболистами.
***
## 2 Существующие решения проблемы <a name ="решения_проблемы"></a>
Transfermarkt — немецкий веб-сайт, который содержит информацию о футболе, такую как счёт матчей, результаты турниров и трансферные новости. Несмотря на то, что стоимость игроков, наряду с некоторыми другими показателями, являются оценочными, исследователи из Центра изучения экономических показателей обнаружили, что «слухи» о трансферах и стоимости игроков в значительной степени точны.
Transfermarkt работает засчет системы база данных, в которых вносится информация о футболистах и последних трансферах.
Других аналогов не имеется.
***
## 3 Разработка <a name ="разработка"></a>
***
## 3.1 Проектирование системы
Разработка информационной системы начинается с построения USE-CASE диаграммы (Диаграмма вариантов использования) , которая состоит из участников и прецендетов.(см. рисунок 1)

Участник - это множество логически связанных ролей, исполняемых при взаимодействии с прецедентами или сущностями (система, подсистема или класс). Участником может быть человек или другая система, подсистема или класс, которые представляют нечто вне сущности. Графически участник изображается “человечком”.

Прецедент - описание множества последовательных событий (включая варианты), выполняемых системой, которые приводят к наблюдаемому участником результату. Прецедент представляет поведение сущности, описывая взаимодействие между участниками и системой. Прецедент не показывает, “как” достигается некоторый результат, а только “что” именно выполняется. Прецеденты обозначаются очень простым образом - в виде эллипса, внутри которого указано его название.
![image](https://user-images.githubusercontent.com/85898336/146952795-0ee910f8-d36d-449f-9b47-073025f3c675.png)

                                                Рисунок 1 - Диаграмма вариантов использования

На основе USE-CASE диаграммы разрабатвается DFD диаграмма, которая наглядно отображает течение информации в пределах системы.(см. рисунок 2)
![image](https://user-images.githubusercontent.com/85898336/146951679-989f55e8-0073-46b4-8d72-9b9c68e94adf.png)

                                                Рисунок 2 - Диаграмма потоков данных

На основе DFD диаграммы проектируется схема «сущность-связь» (ER-диаграмма), где показано, как разные «сущности» (люди, объекты, концепции и так далее) связаны между собой внутри системы.(см. рисунок 3)
![image](https://user-images.githubusercontent.com/85898336/146952001-ee0da253-9c94-4532-abb0-f0a3cae2bfa2.png)

                                                Рисунок 3 - Диаграмма «сущность-связь»
***
## 3.2 Реализация системы
На основании ER-диаграммы создали классы. Примеры классов "Футболист" и "Менеджер" представленны на листингах 1 и 2 соответственно.

Листинг 1 - Класс "Футболист"

    public class Footballer
    {
        public int Id { get; set; }
        public string FirstName { get; set; }
        public string SecondName { get; set; }
        public string Position { get; set; }
        public int Age { get; set; }
        public string Club { get; set; }
        public string Country { get; set; }
        public decimal Money { get; set; }
    }
            

Листинг 2 - Класс "Менеджер"

    public class Manager
    {
        public int Id { get; set; }
        public string FirstName { get; set; }
        public string SecondName { get; set; }
    }

Затем отпределили где они будут храниться, создав репозитории ......

Листинг 3 - Репрезиторий для класса "Футболист"

    public class FootballerStorage
    {
        private readonly Dictionary<int, Footballer> _Footballers = new();

        public Footballer Create(Footballer footballer)
        {
            _Footballers.Add(footballer.Id, footballer);
            return footballer;
        }

        public Footballer Read(int footballerId)
        {
            return _Footballers[footballerId];
        }

        public Footballer Update(int footballerId, Footballer newFootballer)
        {
            _Footballers[footballerId] = newFootballer;
            return _Footballers[footballerId];
        }

        public bool Delete(int footballerId)
        {
            return _Footballers.Remove(footballerId); 
        }
    }

Листинг 4 - Общеее хранилище

    public class Storage
    {
        public static readonly FootballerStorage footballerStorage = new();
        public static readonly ManagerStorage managerStorage = new();
        public static readonly ClubStorage clubStorage = new();
        public static readonly AcceptTheTransetionStorage attStorage = new();
        public static readonly ManagerSuggestionStorage managersuggestionStorage = new();
        public static readonly ContractStorage contractStorage = new();
        public static readonly AcceptContractStorage acceptcontractStorage = new();

    }
    
Разработали набор web-методов, включая 4 базисные операции CRUD, для каждой сущности, отражающих предметную область. Примеры контроллеров для классов "Футболист" и "Менеджер" представлены на листингах 5 и 6.

Листинг 5 - Контроллер для класса "Футболист"

    [ApiController]
    [Route("/footballer")]
    public class FootballerController : ControllerBase
    {
        [HttpPut("Create")]
        public Footballer Create(Footballer footballer)
        {
            Storage.footballerStorage.Create(footballer);
            return Storage.footballerStorage.Read(footballer.Id);
        }

        [HttpGet("Read")]
        public Footballer Read(int Id)
        {
            return Storage.footballerStorage.Read(Id);
        }

        [HttpPatch("Update")]
        public Footballer Update(int Id, Footballer newFootballer)
        {
            return Storage.footballerStorage.Update(Id, newFootballer);
        }

        [HttpDelete("Delete")]
        public bool Delete(int Id)
        {
            return Storage.footballerStorage.Delete(Id);
        }
    }
  
Листинг 6 - Контроллер для класса "Менеджер"

    [ApiController]
    [Route("/manager")]
    public class ManagerController : ControllerBase
    {
        [HttpPut("Create")]
        public Manager Create(Manager manager)
        {
            Storage.managerStorage.Create(manager);
            return Storage.managerStorage.Read(manager.Id);
        }

        [HttpGet("Read")]
        public Manager Read(int Id)
        {
            return Storage.managerStorage.Read(Id);
        }

        [HttpPatch("Update")]
        public Manager Update(int Id, Manager newManager)
        {
            return Storage.managerStorage.Update(Id, newManager);
        }

        [HttpDelete("Delete")]
        public bool Delete(int Id)
        {
            return Storage.managerStorage.Delete(Id);
        }
    }
  
***
## 4 Тестирование <a name ="тестирование"></a>
***
## Заключение
***
## Список литературы
